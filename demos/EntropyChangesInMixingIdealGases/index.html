<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Two-Chamber Mixer</title>
  <link rel="stylesheet" href="css/style.css" />
  </script>
  <script>
  window.MathJax = {
    tex: { inlineMath: [['\\(', '\\)'], ['$', '$']] },
    options: {
      renderActions: {
        find_script: [10, function () {}], // Disable auto-render
      }
    }
  };
</script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>
  <div class="card">
    <button class="menu-btn">
      <img src="assets/hamburger.svg" alt="Menu" />
    </button>

    <!-- ==== DROPDOWN MENU ==== -->
    <ul id="dropdownMenu" class="dropdown-menu hidden">
      <li data-option="directions">Directions</li>
      <li data-option="details">Details</li>
      <li data-option="about">About</li>
    </ul>
    <!-- ======================= -->

    <!-- two‐row controls -->
    <div class="controls">
      <!-- first row: PA & PB sliders -->
      <div class="slider-row">
        <div class="slider-group">
          <label class="long-label">initial pressure A (bar)</label>
          <div class="slider-wrapper">
            <input id="sliderPA" type="range" min="0" max="1" step="0.01" value="0.50" />
            <span class="slider-val" id="valPA">0.50</span>
          </div>
        </div>
        <div class="slider-group">
          <label class="long-label">initial pressure B (bar)</label>
          <div class="slider-wrapper">
            <input id="sliderPB" type="range" min="0" max="1" step="0.01" value="0.50" />
            <span class="slider-val" id="valPB">0.50</span>
          </div>
        </div>
      </div>

      <!-- second row: ratio slider + action buttons -->
      <div class="slider-row">
        <div class="slider-group">
          <label class="long-label">initial volume ratio A/B</label>
          <div class="slider-wrapper">
            <input id="sliderRatio" type="range" min="0.5" max="2.0" step="0.1" value="1.00" />
            <span class="slider-val" id="valRatio">1.00</span>
          </div>
        </div>
        <div class="action-group">
          <label>
            <input type="radio" name="mode" value="remove" checked>
            remove barrier
          </label>
          <label>
            <input type="radio" name="mode" value="compress">
            compress right
          </label>
          <button id="mixBtn" class="mix-btn">mix gases</button>
          <button id="resetBtn" class="reset-btn">Reset</button>
        </div>
      </div>
    </div>

    <!-- single outer panel wrapping entropy + chambers -->
    <div class="simulation-panel">
      <!-- ΔS_total goes here -->
      <div class="entropy-total" id="entropyTotal">
        ΔS<sub>total</sub> = <span id="sTotal">0.0</span> J/K
      </div>

      <!-- inner black‐bordered simulation card -->
      <!-- svg.js will draw the two chambers here -->
      <div id="svgCard" class="simulation-card"></div>
  </div>

  <!-- MODAL DIALOG -->
  <div id="modal" class="modal hidden">
    <div class="modal-content">
      <span class="modal-close">&times;</span>
      <h2 id="modalTitle"></h2>
      <div id="modalBody"></div>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/@svgdotjs/svg.js@3.2/dist/svg.min.js"></script>
  <script src="js/script.js"></script>
</body>
</html>