<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Attenuation Simulation -- Multiple Wavelengths</title>

<!-- Libraries (only those needed for plot + GUI) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="./libraries/math.min.js"></script>
<script src="./libraries/p5/p5.min.js"></script>
<script src="./libraries/p5/p5.dom.min.js"></script>
<script src="./libraries/p5/grafica.js"></script>
<script src="./libraries/quicksettings3/quicksettings.js"></script>
<script src="./libraries/p5/p5.gui.js"></script>
<script src="./libraries/plotFun.js"></script>

<!-- MathJax (for equations in the Details modal) -->
<script>
  MathJax = {
    chtml: { scale: 0.95, mathmlSpacing: true, displayAlign: 'left' }
  };
</script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

<!-- Bootstrap CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">

<!-- Custom CSS -->
<link rel="stylesheet" href="style.css">
<link rel="stylesheet" href="sliders.css">

<!-- Main JS (your cleaned version) -->
<script src="main.js"></script>
</head>

<body>

<!-- Canvas wrapper -->
<div id="plot-wrapper"></div>


<!-- Hamburger menu (only core items) -->
<div class="hamburger-container">
  <button class="menu-button" onclick="toggleMenu()">☰</button>
  <div id="menu" class="menu-content">
    <div id="dir-btn" class="btn btn-light btn-wide" data-bs-toggle="modal" data-bs-target="#directions-modal">Directions</div>
    <div id="det-btn" class="btn btn-light btn-wide" data-bs-toggle="modal" data-bs-target="#details-modal">Details</div>
    <div id="abt-btn" class="btn btn-light btn-wide" data-bs-toggle="modal" data-bs-target="#about-modal">About</div>
  </div>
</div>

<!-- Modals -->
<div id="directions-modal" class="modal fade" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog"><div class="modal-content">
    <div class="modal-header">
      <h5 class="modal-title">Directions</h5>
      <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
    </div>
    <div class="modal-body">
      <p>
        For a photo-induced process to proceed, light must be absorbed. Consequently, the light intensity
        in photosensitive media decreases with depth. This interactive graph demonstrates the relationship between 
        key variables. 
      </p>

    </div>
  </div></div>
</div>

<div id="details-modal" class="modal fade" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog"><div class="modal-content">
    <div class="modal-header">
      <h5 class="modal-title">Details</h5>
      <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
    </div>
    <div class="modal-body">
      <b><u>Attenuation model</u></b><br>
      $$
      \frac{dI}{dz} = -I \, \varepsilon \, [C]
      $$
      $$
      \frac{I}{I_0} = \exp\!\big(-\varepsilon \, [C] \, z\big)
      $$
      \( I \) – intensity at depth \( z \) \((\text{mW/cm}^2)\) <br>
      \( I_0 \) – incident intensity \((\text{mW/cm}^2)\) <br>
      \( \varepsilon \) – Napierian molar extinction coefficient \((\text{L/mol·cm})\) <br>
      \( [C] \) – chromophore concentration \((\text{mol/L})\) <br>
      \( z \) – depth \((\mu\text{m})\) <br>

      <b><u>Adjusting for wavelength</u></b><br>
      The energy of a photon is inversely proportional to the wavelength \(\lambda\). 
      This relationship is useful for converting light intensity from 
      \((\text{mW/cm}^2)\) to \((\text{Einstein/s·cm}^2)\), where \(1 \ \text{Einstein} = 1 \ \text{mol photons}\)
      when events must be counted, such as for initiator half-life.

      $$
      E = \frac{h \, c \, N_A}{\lambda} 
      $$
      \( E \) – photon energy \((\text{J/mol})\) <br>
      \( h \) – Planck's constant \((6.6261 \times 10^{-34} \ \text{J·s})\) <br>
      \( c \) – speed of light \((2.9979 \times 10^{8} \ \text{m/s})\) <br>
      \( N_A \) – Avogadro's number \((6.022 \times 10^{23} \ \text{mol}^{-1})\) <br>
      \( \lambda \) – wavelength of light \((\text{nm})\) <br>
    </div>
  </div></div>
</div>

<div id="about-modal" class="modal fade" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog"><div class="modal-content">
    <div class="modal-header">
      <h5 class="modal-title">About</h5>
      <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
    </div>
    <div class="modal-body">
      <p>
        This simulation was created in the Department of Chemical and Biological 
        Engineering at University of Colorado Boulder for LearnChemE.com by 
        Alexander Osterbaan under the direction of Professor John L. Falconer and 
        Professor Christopher N. Bowman and with the assistance of Drew Smith and Meagan Arguien. 
        Address any questions or comments to LearnChemE@gmail.com.
      </p>
    </div>
  </div></div>
</div>

</body>
</html>
