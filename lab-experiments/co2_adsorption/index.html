<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Adsorption Process Simulation</title> <link rel="stylesheet" href="main.css"> <script src="https://kit.fontawesome.com/9d19ad28f4.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">

  </head>

<body>
  <div class="canvas-container">
    <div class="icon-container">
      <div class="hamburger-menu" ref={ref}>
            <div class="menu-btn">
                <i class="fas fa-bars"></i>
            </div>
            <div class="menu-content">
                <div class="menu-item" data-modal="directions">
                    <i class="fas fa-book"></i>
                    <span>Directions</span>
                </div>
                <a id="worksheet-download" download={downloadName} href={path}>
                    <div class="menu-item" data-modal="details">
                        <i class="fas fa-download"></i>
                        <span>Worksheet</span>
                    </div>
                </a>
                <div class="menu-item" data-modal="about">
                    <i class="fas fa-info-circle"></i>
                    <span>About</span>
                </div>
            </div>
        </div>
      <button id="reset-button" class="btn btn-sm btn-danger">Reset</button>
    </div>
    <div id="svg-container">
    </div>
  </div>

  
        <!-- Modal Dialogs -->
        <div id="directions-modal" class="modal">
            <div class="modal-content">
                <span class="close-btn">&times;</span>
                <div class="modal-header">
                    <h2>Directions</h2>
                </div>
                <div class="modal-body">
                    <p>
                      This virtual experiment shows the adsorption and desorption of carbon dioxide from a zeolite bed.
                      Click the valves above the three gas tanks to allow flow into the system.
                      Click the pressure regulators above the tanks to adjust the system pressure.
                      Click the mass flow controller to expand it, showing a menu where you can adjust the mass flowrate.
                      Use the second valve to vent or bypass the bed. Heating will begin automatically when the pure
                      nitrogen tank is selected.
                      Scroll to zoom, then pan the camera with the mouse.
                    </p>
                </div>
            </div>
        </div>

        <div id="about-modal" class="modal">
            <div class="modal-content">
                <span class="close-btn">&times;</span>
                <div class="modal-header">
                    <h2>About</h2>
                </div>
                <div class="modal-body">
                    <p>
                        This digital experiment was created in the <a href="https://www.colorado.edu/chbe" target="_blank">Department of Chemical and Biological Engineering</a>, at University of Colorado Boulder for <a href="http://www.learncheme.com" target="_blank">LearnChemE.com</a> by Drew Smith, Jackson Dunlap, Neil Hendren, and Sanath Kavatooru. It is a JavaScript/HTML5 implementation of a Mathematica simulation that was prepared by Mark D. Normand, Maria G. Corradini, and Micha Peleg (<a href="https://demonstrations.wolfram.com/FlowFromATankAtConstantHeight/" target="_blank">https://demonstrations.wolfram.com/FlowFromATankAtConstantHeight/</a>) and modified by Neil Hendren and John L. Falconer. It was prepared with financial support from the National Science Foundation (DUE 2336987 and 2336988) in collaboration with Washington State University. Address any questions or comments to <a href="mailto:LearnChemE@gmail.com">LearnChemE@gmail.com</a>. If this simulation is too big or too small for your screen, zoom out or in using command - or command +  on Mac or ctrl - or ctrl +  on Windows.
                    </p>  
                </div>
            </div>
        </div>

  <div id="overlayContainer"></div>
  <script src="https://cdn.jsdelivr.net/npm/@svgdotjs/svg.js@3.1/dist/svg.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@svgdotjs/svg.draggable.js@3.0/dist/svg.draggable.min.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>

  <script type="module" src="./js/main.js"></script>

  <script>
    
const menuBtn = document.querySelector('.menu-btn');
const menuContent = document.querySelector('.menu-content');
const menuItems = document.querySelectorAll('.menu-item');
const modals = document.querySelectorAll('.modal');
const closeBtns = document.querySelectorAll('.close-btn');

// Hamburger menu functionality
menuBtn.addEventListener('click', () => {
    menuContent.classList.toggle('show');
});

// Close menu when clicking outside
document.addEventListener('click', (e) => {
    if (!menuBtn.contains(e.target) && !menuContent.contains(e.target)) {
        menuContent.classList.remove('show');
    }
});

// Menu items click handlers
menuItems.forEach(item => {
    item.addEventListener('click', () => {
        const modalId = item.getAttribute('data-modal') + '-modal';
        document.getElementById(modalId).style.display = 'block';
        menuContent.classList.remove('show');
    });
});

// Close modal buttons
closeBtns.forEach(btn => {
    btn.addEventListener('click', () => {
        btn.closest('.modal').style.display = 'none';
    });
});

// Close modal when clicking outside
window.addEventListener('click', (e) => {
    modals.forEach(modal => {
        if (e.target === modal) {
            modal.style.display = 'none';
        }
    });
});

  </script>

</body>
</html>